<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CDT++: CDT-plusplus</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CDT++
   </div>
   <div id="projectbrief">Causal Dynamical Triangulations in C++ using CGAL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CDT-plusplus </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/acgetchell/CDT-plusplus"></a> <a href="https://gitter.im/acgetchell/CDT-plusplus?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"></a></p>
<p><b>Quantize spacetime on your laptop.</b></p>
<p>For an introduction to <a href="https://github.com/acgetchell/CDT-plusplus/wiki">Causal Dynamical Triangulations</a>, including the foundations and recent results, please see the <a href="https://github.com/acgetchell/CDT-plusplus/wiki">wiki</a>.</p>
<p><a href="http://arxiv.org/abs/hep-th/0105267">Causal Dynamical Triangulations</a> in C++ using the <a href="http://www.cgal.org">Computational Geometry Algorithms Library</a> and <a href="http://eigen.tuxfamily.org/index.php?title=Main_Page">Eigen</a>&gt;3.1.0, compiled with <a href="http://www.cmake.org">CMake</a> using <a href="http://clang.llvm.org">Clang</a>/<a href="http://llvm.org">LLVM</a>. Arbitrary-precision numbers and functions by <a href="http://www.mpfr.org">MPFR</a> and <a href="https://gmplib.org">GMP</a>. Option-types via <a href="http://www.boost.org">Boost</a> &gt;= 1.63.0. <a href="https://github.com/docopt/docopt.cpp">Docopt</a> provides a beautiful command-line interface. <a href="https://github.com/google/googletest/tree/master/googlemock">Gmock 1.8</a> may be optionally installed in order to build/run unit tests. <a href="https://martine.github.io/ninja/">Ninja</a> is a nice (but optional) replacement for <code>make</code>. Intel's <a href="https://www.threadingbuildingblocks.org">TBB</a> provides significantly better performance if present (3x+). Follows (mostly) the <a href="https://google.github.io/styleguide/cppguide.html">Google C++ Style Guide</a> as enforced by <a href="http://llvm.org/releases/3.6.0/tools/clang/docs/ClangFormatStyleOptions.html">clang-format</a>, which you can check by downloading and running the <a href="http://google-styleguide.googlecode.com/svn/trunk/cpplint/cpplint.py">cpplint.py</a> script:</p>
<div class="fragment"><div class="line">python cpplint.py &lt;filename&gt;</div></div><!-- fragment --><p>(Or use your favorite linter plugin for your editor/IDE.)</p>
<p>The goals and targets of this project are:</p>
<ul>
<li>[x] Developed with <a href="http://www.literateprogramming.com">literate programming</a> generated using <a href="http://www.doxygen.org">Doxygen</a></li>
<li>[x] <a href="http://blog.knatten.org/2012/11/02/efficient-pure-functional-programming-in-c-using-move-semantics/">Efficient Pure Functional Programming in C++ Using Move Semantics</a></li>
<li>[x] Validation tests using <a href="http://cmake.org/Wiki/CMake/Testing_With_CTest">CTest</a></li>
<li>[x] Unit tests with <a href="https://github.com/google/googletest/tree/master/googlemock">Gmock</a></li>
<li>[x] Test builds with <a href="http://about.travis-ci.org/docs/user/getting-started/">Travis CI</a></li>
<li>[x] 3D Simplex</li>
<li>[x] 3D Spherical triangulation</li>
<li>[x] 2+1 foliation</li>
<li>[x] Integrate <a href="https://github.com/docopt/docopt.cpp">docopt</a> CLI</li>
<li>[x] S3 Bulk action</li>
<li>[x] 3D Ergodic moves</li>
<li>[x] <a href="https://www.threadingbuildingblocks.org">TBB</a> multithreading</li>
<li>[x] <a class="el" href="class_metropolis.html" title="Metropolis-Hastings algorithm function object. ">Metropolis</a> algorithm</li>
<li>[ ] <a href="http://www.hdfgroup.org/HDF5/">HDF5</a> output</li>
<li>[ ] 4D Simplex</li>
<li>[ ] 4D Spherical triangulation</li>
<li>[ ] 3+1 foliation</li>
<li>[ ] S4 Bulk action</li>
<li>[ ] 4D Ergodic moves</li>
<li>[ ] Initialize two masses</li>
<li>[ ] Shortest path algorithm</li>
<li>[ ] Einstein tensor</li>
<li>[ ] Complete test coverage</li>
<li>[ ] Complete documentation</li>
<li>[ ] ???</li>
<li>[ ] (Non)profit</li>
</ul>
<h2>### Prerequisites ### </h2>
<p><a href="https://github.com/acgetchell/CDT-plusplus">CDT++</a> should build on any system (e.g. Linux, MacOS, Windows) with <a href="http://www.cmake.org/cmake/help/install.html">CMake</a>, <a href="http://www.cgal.org/Manual/latest/doc_html/installation_manual/Chapter_installation_manual.html">CGAL</a>, <a href="http://www.boost.org">Boost</a>, <a href="http://www.mpfr.org">MPFR</a>, and <a href="http://eigen.tuxfamily.org/index.php?title=Main_Page">Eigen</a> installed. <a href="https://www.threadingbuildingblocks.org">TBB</a> provides an optional (but significant) speed boost. <a href="https://github.com/google/googletest/tree/master/googlemock">Gmock</a> is optional (but recommended) for running the unit tests, and <a href="https://martine.github.io/ninja/">Ninja</a> is an optional replacement for <code>make</code> which provides quick parallel builds of the unit tests.</p>
<p>On MacOS, the easiest way to do this is with <a href="http://brew.sh">HomeBrew</a>:</p>
<div class="fragment"><div class="line">brew unlink cmake</div><div class="line">brew upgrade cmake</div><div class="line">brew install ninja</div><div class="line">brew unlink boost</div><div class="line">brew upgrade boost</div><div class="line">brew install eigen</div><div class="line">brew install tbb --c++11</div><div class="line">brew install cgal --imaging --with-eigen3 --with-lapack</div></div><!-- fragment --><p>On Ubuntu, you will need an updated versions of <a href="http://clang.llvm.org">clang</a> or <a href="https://gcc.gnu.org/">gcc</a>, <a href="http://www.cmake.org">CMake</a>, and <a href="http://www.boost.org">Boost</a>, which is scripted in <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/.travis.yml">.travis.yml</a>.</p>
<h2>### Build ### </h2>
<p>This project uses a separate <code>build/</code> directory, which allows you to rebuild the project without cluttering the source code. Thus, download this source code (clone this repo from GitHub or grab a zipped archive <a href="https://github.com/acgetchell/CDT-plusplus/archive/master.zip">here</a>) and run the following commands in the top-level directory:</p>
<div class="fragment"><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake ..</div><div class="line">make</div></div><!-- fragment --><p>(Or run <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/build.sh">build.sh</a> if you have <a href="https://martine.github.io/ninja/">Ninja</a> installed.)</p>
<p>This should result in the main program executable, <code>cdt</code> in the <code>build/</code> directory, along with several others.</p>
<ul>
<li><code>cdt-gv</code> converts output files to GeomView format for visualization</li>
<li><code>cdt-opt</code> is a simplified version with hard-coded inputs, mainly useful for debugging and scripting</li>
</ul>
<p>If you have <a href="https://github.com/google/googletest/tree/master/googlemock">GMock</a> installed and set <code>GMOCK_TESTS</code> to <b>TRUE</b> (which is the default), the unit test executable, <code>unittests</code>, will also be present. See <a href="#tests">Tests</a> for details.</p>
<p>If you are not interested in the unit tests and only want to run the program, set <code>GMOCK_TESTS</code> in <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/CMakeLists.txt">CMakeLists.txt</a> to <b>FALSE</b>.</p>
<p>For some versions of Linux, you may have to build <a href="http://www.cgal.org">CGAL</a> from source. Follow the instructions (or their equivalent) given in the install section of the <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/.travis.yml">.travis.yml</a> build file.</p>
<p>There are enough unit tests that it's worthwhile doing fast parallel builds. <a href="https://martine.github.io/ninja/">Ninja</a> is just the ticket. It's effectively a drop-in replacement for <code>make</code>, and works nicely because <a href="http://www.cmake.org">CMake</a> generates the build files. There's quite a difference in speed.</p>
<p>Basically, everywhere you see <code>make</code> you can type <code>ninja</code> instead. Again, see <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/build.sh">build.sh</a> for an example.</p>
<h2>Possible build troubles: </h2>
<ul>
<li>While running <code>build.sh</code> under linux with <code>gcc</code> you may encounter <code>virtual memory exhausted: Cannot allocate memory</code>, a common solution for which is to <a href="http://www.cyberciti.biz/faq/linux-add-a-swap-file-howto/">allocate swap space</a>.</li>
</ul>
<h2>### Usage ### </h2>
<p>CDT-plusplus uses <a href="https://github.com/docopt/docopt.cpp">docopt</a> to parse options from the help message, and so understands long or short argument formats, provided the short argument given is an unambiguous match to a longer one. The help message should be instructive:</p>
<div class="fragment"><div class="line">./build/cdt --help</div><div class="line">Causal Dynamical Triangulations in C++ using CGAL.</div><div class="line"></div><div class="line">Copyright (c) 2014-2016 Adam Getchell</div><div class="line"></div><div class="line">A program that generates d-dimensional triangulated spacetimes</div><div class="line">with a defined causal structure and evolves them according</div><div class="line">to the Metropolis algorithm. Specify the number of passes to control</div><div class="line">how much evolution is desired. Each pass attempts a number of ergodic</div><div class="line">moves equal to the number of simplices in the simulation.</div><div class="line"></div><div class="line">Usage:./cdt (--spherical | --toroidal) -n SIMPLICES -t TIMESLICES [-d DIM] -k K --alpha ALPHA --lambda LAMBDA [-p PASSES] [-c CHECKPOINT]</div><div class="line"></div><div class="line">Examples:</div><div class="line">./cdt --spherical -n 64000 -t 256 --alpha 1.1 -k 2.2 --lambda 3.3 --passes 1000</div><div class="line">./cdt --s -n64000 -t256 -a1.1 -k2.2 -l3.3 -p1000</div><div class="line"></div><div class="line">Options:</div><div class="line">  -h --help                   Show this message</div><div class="line">  --version                   Show program version</div><div class="line">  -n SIMPLICES                Approximate number of simplices</div><div class="line">  -t TIMESLICES               Number of timeslices</div><div class="line">  -d DIM                      Dimensionality [default: 3]</div><div class="line">  -a --alpha ALPHA            Negative squared geodesic length of 1-d</div><div class="line">                              timelike edges</div><div class="line">  -k K                        K = 1/(8*pi*G_newton)</div><div class="line">  -l --lambda LAMBDA          K * Cosmological constant</div><div class="line">  -p --passes PASSES          Number of passes [default: 100]</div><div class="line">  -c --checkpoint CHECKPOINT  Checkpoint every n passes [default: 10]</div></div><!-- fragment --><p>The dimensionality of the spacetime is such that each slice of spacetime is <code>d-1</code>-dimensional, so setting <code>d=3</code> generates 2 spacelike dimensions and one timelike dimension, with a defined global time foliation. Thus a <code>d</code>-dimensional simplex will have some <code>d-1</code> sub-simplices that are purely spacelike (all on the same timeslice) as well as some that are timelike (span two timeslices). In <a href="http://arxiv.org/abs/hep-th/0105267">CDT</a> we actually care more about the timelike links (in 2+1 spacetime) and the timelike faces (in 3+1 spacetime).</p>
<h2>### Documentation ### </h2>
<p>Online documentation may be found at <a href="http://www.adamgetchell.org/CDT-plusplus/">http://www.adamgetchell.org/CDT-plusplus/</a></p>
<p>If you have <a href="http://www.doxygen.org">Doxygen</a> installed you can generate the same information locally by simply typing at the top level directory (<a href="http://www.doxygen.org">Doxygen</a> will recursively search):</p>
<div class="fragment"><div class="line">doxygen</div></div><!-- fragment --><p>This will generate <code>html/</code> and <code>latex/</code> directories which will contain documentation generated from CDT++ source files. <code>USE_MATHJAX</code> has been enabled in <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/Doxyfile">Doxyfile</a> so that the LaTeX formulae can be rendered in the html documentation using <a href="http://www.mathjax.org">MathJax</a>. <code>HAVE_DOT</code> is set to <b>YES</b> which allows various graphs to be autogenerated by <a href="http://www.doxygen.org">Doxygen</a> using <a href="http://www.graphviz.org">GraphViz</a>. If you do not have GraphViz installed, set this option to <b>NO</b> (along with UML_LOOK).</p>
<h2>### Tests ### </h2>
<p><a href="https://github.com/google/googletest/tree/master/googlemock">GMock</a> is optional, but strongly recommended if you want to make changes to or understand the source code in detail. Building the <a href="https://github.com/google/googletest/tree/master/googlemock">GMock</a> <code>unittests</code> executable is set by the <code>GMOCK_TESTS</code> variable in <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/CMakeLists.txt">CMakeLists.txt</a>.</p>
<p>To install GMock, you'll need to install GMock and GTest as a shared library. First look at the https://github.com/google/googletest/blob/master/googlemock/README.md "README" to understand the general idea. On Linux:</p>
<div class="fragment"><div class="line">git clone https://github.com/google/googletest.git</div><div class="line">cd googletest/googlemock</div><div class="line">cmake -DBUILD_SHARED_LIBS=ON .</div><div class="line">make</div><div class="line">sudo cp -a include/gmock/ /usr/include/</div><div class="line">sudo cp -a libgmock_main.so libgmock.so /usr/lib/</div></div><!-- fragment --><p>GoogleMock is modular, and can use other testing frameworks. Since we want to use GoogleTest, do:</p>
<div class="fragment"><div class="line">cd ../googletest</div><div class="line">cmake -DBUILD_SHARED_LIBS=ON .</div><div class="line">make</div><div class="line">sudo cp -a include/gtest /usr/include/</div><div class="line">sudo cp -a libgtest_main.so libgtest.so /usr/lib/</div></div><!-- fragment --><p>This is scripted in <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/.travis.yml">.travis.yml</a>. Thanks to <a href="https://stackoverflow.com/users/978486/manuelschneid3r">ManuelSchneid3r</a> and <a href="https://stackoverflow.com/questions/13513905/how-to-setup-googletest-as-a-shared-library-on-linux">Stack Overflow</a> for the assist.</p>
<p>Unit tests using GMock are then run (in the <code>build/</code> directory) via:</p>
<div class="fragment"><div class="line">./unittests</div></div><!-- fragment --><p>You can build and run validation tests by typing:</p>
<div class="fragment"><div class="line">make test</div></div><!-- fragment --><p>Or, if you are using <a href="https://martine.github.io/ninja/">Ninja</a>:</p>
<div class="fragment"><div class="line">ninja test</div></div><!-- fragment --><p>In addition to the command line output, you can see detailed results in the <code>build/Testing</code> directory which is generated thereby.</p>
<h2>### Static Analysis ### </h2>
<p>The <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/cppcheck-build.sh">cppcheck-build.sh</a> script runs a quick static analysis using <a href="http://cppcheck.sourceforge.net">cppcheck</a>.</p>
<p><a href="http://clang.llvm.org">Clang</a> comes with <a href="http://clang-analyzer.llvm.org/scan-build.html">scan-build</a> which can run a much more thorough, but slower static analysis integrated with <a href="http://www.cmake.org">CMake</a> and <a href="https://martine.github.io/ninja/">Ninja</a>. Simply run the <a href="https://github.com/acgetchell/CDT-plusplus/blob/master/scan-build.sh">scan-build.sh</a> script. Note that this script is somewhat fragile, as it depends upon the version of <a href="http://llvm.org">llvm</a> installed, and links directly to those directories without helpful symlinks to abstract version numbers away.</p>
<p>Also, these tools build in <b>DEBUG</b> mode. You should probably not then run <code>unittests</code> as you will get thousands of lines of debugging output from the tests that create large triangulations. (You could use <code>--gtest_filter</code> to run just the tests that you want.)</p>
<h3>Contributing</h3>
<p>Please see https://github.com/acgetchell/CDT-plusplus/blob/master/CONTRIBUTING.md "CONTRIBUTING.md". </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 13 2017 20:58:13 for CDT++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
